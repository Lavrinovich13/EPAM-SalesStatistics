@{
    ViewBag.Title = "Managers";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";

}
@model IEnumerable<SalesStatistics.Models.Client>
@using GridMvc.Html

<h2>Clients</h2>


<div id="btn-group" class="btn-group">
    <button type="button" class="btn btn-default" id="addClientForm">
        <span class="glyphicon glyphicon-plus"></span> Add client
    </button>

    <button type="button" class="btn btn-default" id="refresh">
        <span class="glyphicon glyphicon-refresh"></span> Refresh
    </button>
</div>

<hr />

<div id="grid">
    @Html.Partial("ClientsGrid", Model)
</div>

<div id="divAddClient">
</div>

<div id="divEditClient">
</div>


<script type="text/javascript">

    $(function () {
        $("#refresh").click(function () {
            console.log("smth happend");
            $.ajax({
                url: '@Url.Action("Clients")',
                type: 'GET',
                dataType: 'html',
                success: function (result) { FillGrid(result); }
            });
        });
        function FillGrid(result) {
            $('#grid').html(result);
        }

        $("#addClientForm").click(function () {
            $("#divAddClient").show();
            $("#btn-group").hide();
            $("#grid").hide();
            console.log("smth happend");
            $.ajax({
                url: '@Url.Action("AddClient")',
                type: 'GET',
                dataType: 'html',
                success: function (result) { AddClient(result); }
            });
        });
        
        function AddClient(result) {
            $('#divAddClient').html(result);
        }
    });
</script>