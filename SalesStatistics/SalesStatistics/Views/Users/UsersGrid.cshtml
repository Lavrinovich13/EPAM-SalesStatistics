@using GridMvc.Html
@using GridMvc.Sorting
@model IEnumerable<SalesStatistics.Models.User>


@Html.Grid(Model).Named("grid").Columns(columns =>
    {
        columns.Add(c => c.Email).Titled("Email").Filterable(true);
        columns.Add(c => c.UserName).Titled("User name").Filterable(true);
        columns.Add(c => c.Role).Titled("Role").Filterable(true);
        columns.Add()
                      .Titled("Actions")
                      .Encoded(false)
                      .Sanitized(false)
                      .SetWidth(100)
                     .RenderValueAs(o => CustomRenderingOfColumn(o));

    }).Sortable(true).WithPaging(10)

@helper CustomRenderingOfColumn(SalesStatistics.Models.User order)
{
    if (order.Email != "admin@gmail.com")
    {
        @Html.ActionLink("Remove", "RemoveUser", "Users", new { id = order.Id }, null)
    }
}